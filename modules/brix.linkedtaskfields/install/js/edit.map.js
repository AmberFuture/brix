{"version":3,"sources":["edit.js"],"names":["BrixLinkedTaskEdit","constructor","let","taskData","undefined","window","brixTaskParams","document","querySelector","GROUP_ID","value","data","id","BX","ajax","runAction","then","this","dataCheck","response","console","error","CONDITIONS","Object","keys","length","getConditions","getRelationship","RELATIONSHIP","getFields","FIELDS","HIDE_FIELD","forEach","field","actionField","Number","FIELD_ID","proxy","Proxy","CURRENT_VALUES","handler","_inputChange","crmFields","dialogFields","dialogClasses","entries","obj","DEFAULT_FIELDS","includes","customEvent","typeField","USER_TYPE_ID","view","multiple","SETTINGS","DISPLAY","checkRadio","checkSelectSingle","checkCheckbox","push","checkInputText","MULTIPLE","ID","checkEmployee","checkSelectMultiple","checkUI","checkCrm","checkDialog","fieldId","hide","node","style","display","$this","get","target","prop","set","key","val","relationship","conditions","arConditions","arCurrentValues","arFields","dialog","UI","EntitySelector","Dialog","dialogId","getById","subscribe","userId","event","getTarget","getSelectedItems","getId","addCustomEvent","e","selectedIds","selected","ids","item","nodes","querySelectorAll","addEventListener","opt","options","bool","name","checked","n","fields","items","allFields","TileSelector","getList","inputId","getSearchInput","getAttribute","i","eventName","Event","EventEmitter","hasOwnProperty","tiles","getTiles","newTiles","tile","wrap","changeInput","MutationObserver","mutations","mutation","addedNodes","observe","childList","clearInterval","setTimeout","newValues","values","JSON","parse","VALUE","attributes","attributeFilter","classes","dialogs","getInstances","instance","getTargetNode","parent","closest","className","classList","replace"],"mappings":"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"}