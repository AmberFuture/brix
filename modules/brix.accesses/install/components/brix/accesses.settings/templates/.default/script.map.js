{"version":3,"sources":["script.js"],"names":["BrixAccessesSettings","constructor","data","this","step","tagSelectorData","accessInfo","let","isChange","common","iblockId","iblockIdMany","split","getCommon","getIblockId","Number","getIblockIdMany","twoStep","threeStep","BX","Runtime","loadExtension","then","exports","createTagselector","TagSelector","formSubmit","accessInit","createModal","createProgress","ProgressBar","tagSelectorList","multiRights","Map","rightsMode","selectedIblock","$this","entity","Object","keys","length","tagSelectorId","settings","node","document","getElementById","container","input","addEventListener","e","eventKeyup","dialogOptions","events","Item:onSelect","item","event","getData","getDialog","isMultiple","multipleValue","getId","value","getCustomData","get","changeLockTagSelector","Item:onDeselect","multiple","onLoad","items","getTarget","getItems","forEach","customData","size","set","checkSelectedMultiTagSelector","renderTo","getTabs","tab","setVisible","lock","key","pop","unlock","dialogItems","keyStart","shift","keyEnd","dialogStart","dialogEnd","selectedItem","getSelectedItems","id","setHidden","isSelected","deselect","index","indexOf","splice","join","keyCode","target","querySelector","click","access","IBLOCKS","rightsExtended","RIGHTS_LIST","EXTENDED","rightsNoExtended","NO_EXTENDED","rightsNames","RIGHTS_NAME","change","info","options","BrixAccess","wrap","isAccess","isExtended","names","ACCESS","BrixModal","classModal","text","buttons","message","btnCenter","showInParent","maxWidth","modalOpen","escapeEvents","stopBtn","iblockCount","stop","progress","Size","LARGE","maxValue","statusType","Status","PERCENT","textAfter","column","setTextAfter","disabled","submitter","error","alert","preventDefault","classList","remove","ITEMS","checked","basicId","iblock","show","saveAccess","extended","arAccess","val","stopProgress","ajax","runAction","update","isFinish","console","response","finish","setTimeout","submit","add"],"mappings":"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"}